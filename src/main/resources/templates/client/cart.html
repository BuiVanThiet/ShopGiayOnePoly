<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{client/base}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Products</title>
</head>
<body>
<div layout:fragment="content">
    <section>
        <div class="d-flex" style="width: 100%; height: 230px; background-color: #ffffff; margin-left: 30px">
            <div class="w-50 p-3">
                <p class="text-dark fs-5 fw-lighter" style="margin-top: 100px;">ONE POLY - NHỊP BƯỚC BẢN THÂN</p>
                <p class="text-dark fw-lighter">Chuẩn phong cách, thanh lịch trong từng bước chân! Trải nghiệm những
                    thiết kế tuyệt vời với giày thể thao trong bộ sưu tập ONE POLY "Nhịp bước bản thân".</p>
            </div>
        </div>

        <section class="cart-page">
            <div class="container">
                <div class="cart-list" id="cart-list">
                    <div class="cart-list-header">
                        <div class="cart-list-header-title">Sản Phẩm</div>
                        <div class="cart-list-header-price">Đơn Giá</div>
                        <div class="cart-list-header-quantity">Số Lượng</div>
                        <div class="cart-list-header-amount">Số Tiền</div>
                        <div class="cart-list-header-action">Thao Tác</div>
                    </div>
                    <div class="cart-item-outer">
                        <div class="cart-item-body">
                            <div class="cart-item-body-inner">
                                <div class="cart-item-body" th:each="cart : ${cartItems}">
                                    <div class="cart-item-body-item-product" style="margin-right: 100px">
                                        <div class="cart-item-body-item-product-inner">
                                            <a title="${cart.productName}"
                                               href="/products/giay-the-thao-nam-mwc-natt--5734?c=nau">
                                                <img class="cart-item-body-item-product-thumb"
                                                     th:src="'https://res.cloudinary.com/dfy4umpja/image/upload/v1728725582/' + ${cart.imageName}"
                                                     alt="Product Image">
                                            </a>
                                            <div class="cart-item-body-item-product-info">
                                                <a class="cart-item-body-item-product-name"
                                                   th:text="${cart.productName}">
                                                    Tên sản phẩm
                                                </a>
                                                <p class="cart-item-body-item-product-options" th:text="${cart.color}">
                                                    Màu</p>
                                                <p class="cart-item-body-item-product-options" th:text="${cart.size}">
                                                    Kích thước</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="cart-item--prices" style="margin-right: 180px">
                                        <span class="cart-item--price-item" th:text="${cart.price}">Price</span>
                                    </div>
                                    <div class="cart-item--quantity" style="margin-right: 160px">
                                        <div class="cart-item--quantity-actions">
                                            <button class="button btn-decrement"
                                                    onclick="updateQuantity([[${cart.productDetailId}]], -1)">-
                                            </button>
                                            <div class="number" th:text="${cart.quantity}">quantity</div>
                                            <button class="button btn-increment"
                                                    onclick="updateQuantity([[${cart.productDetailId}]], 1)">+
                                            </button>
                                        </div>
                                    </div>
                                    <div class="cart-item--total" style="margin-right: 180px">
                                        <span th:text="${cart.totalPrice}">đ</span>
                                    </div>
                                    <div class="cart-item--actions">
                                        <button class="cart-item--action-item"
                                                onclick="removeItem([[${cart.productDetailId}]])">Xóa
                                        </button>
                                    </div>
                                </div>
                                <div class="cart-item-body-space"></div>
                            </div>
                        </div>
                    </div>
                    <!--                    <div class="cart-item-body" th:each="cart3:${cartItems}">-->
                    <!--                        <p th:text="${cart3.quantity}"></p>-->
                    <!--                    </div>-->
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-1 border-bottom"></div>

                    <div class="row cart-total">
                        <div class="col-6 d-mb">
                            <div style="display:none;">
                                <div class="cart-final--top cart-final-grow-1">
                                    <svg fill="none" viewBox="0 -2 23 22" class="shopee-svg-icon icon-voucher-line">
                                        <g filter="url(#voucher-filter0_d)">
                                            <mask id="a" fill="#fff">
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                      d="M1 2h18v2.32a1.5 1.5 0 000 2.75v.65a1.5 1.5 0 000 2.75v.65a1.5 1.5 0 000 2.75V16H1v-2.12a1.5 1.5 0 000-2.75v-.65a1.5 1.5 0 000-2.75v-.65a1.5 1.5 0 000-2.75V2z"></path>
                                            </mask>
                                            <path d="M19 2h1V1h-1v1zM1 2V1H0v1h1zm18 2.32l.4.92.6-.26v-.66h-1zm0 2.75h1v-.65l-.6-.26-.4.91zm0 .65l.4.92.6-.26v-.66h-1zm0 2.75h1v-.65l-.6-.26-.4.91zm0 .65l.4.92.6-.26v-.66h-1zm0 2.75h1v-.65l-.6-.26-.4.91zM19 16v1h1v-1h-1zM1 16H0v1h1v-1zm0-2.12l-.4-.92-.6.26v.66h1zm0-2.75H0v.65l.6.26.4-.91zm0-.65l-.4-.92-.6.26v.66h1zm0-2.75H0v.65l.6.26.4-.91zm0-.65l-.4-.92-.6.26v.66h1zm0-2.75H0v.65l.6.26.4-.91zM19 1H1v2h18V1zm1 3.32V2h-2v2.32h2zm-.9 1.38c0-.2.12-.38.3-.46l-.8-1.83a2.5 2.5 0 00-1.5 2.29h2zm.3.46a.5.5 0 01-.3-.46h-2c0 1.03.62 1.9 1.5 2.3l.8-1.84zm.6 1.56v-.65h-2v.65h2zm-.9 1.38c0-.2.12-.38.3-.46l-.8-1.83a2.5 2.5 0 00-1.5 2.29h2zm.3.46a.5.5 0 01-.3-.46h-2c0 1.03.62 1.9 1.5 2.3l.8-1.84zm.6 1.56v-.65h-2v.65h2zm-.9 1.38c0-.2.12-.38.3-.46l-.8-1.83a2.5 2.5 0 00-1.5 2.29h2zm.3.46a.5.5 0 01-.3-.46h-2c0 1.03.62 1.9 1.5 2.3l.8-1.84zM20 16v-2.13h-2V16h2zM1 17h18v-2H1v2zm-1-3.12V16h2v-2.12H0zm1.4.91a2.5 2.5 0 001.5-2.29h-2a.5.5 0 01-.3.46l.8 1.83zm1.5-2.29a2.5 2.5 0 00-1.5-2.3l-.8 1.84c.18.08.3.26.3.46h2zM0 10.48v.65h2v-.65H0zM.9 9.1a.5.5 0 01-.3.46l.8 1.83A2.5 2.5 0 002.9 9.1h-2zm-.3-.46c.18.08.3.26.3.46h2a2.5 2.5 0 00-1.5-2.3L.6 8.65zM0 7.08v.65h2v-.65H0zM.9 5.7a.5.5 0 01-.3.46l.8 1.83A2.5 2.5 0 002.9 5.7h-2zm-.3-.46c.18.08.3.26.3.46h2a2.5 2.5 0 00-1.5-2.3L.6 5.25zM0 2v2.33h2V2H0z"
                                                  mask="url(#a)"></path>
                                        </g>
                                        <path clip-rule="evenodd"
                                              d="M6.49 14.18h.86v-1.6h-.86v1.6zM6.49 11.18h.86v-1.6h-.86v1.6zM6.49 8.18h.86v-1.6h-.86v1.6zM6.49 5.18h.86v-1.6h-.86v1.6z"></path>
                                        <defs>
                                            <filter id="voucher-filter0_d" x="0" y="1" width="20" height="16"
                                                    filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                                <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood>
                                                <feColorMatrix in="SourceAlpha"
                                                               values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix>
                                                <feOffset></feOffset>
                                                <feGaussianBlur stdDeviation=".5"></feGaussianBlur>
                                                <feColorMatrix
                                                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.09 0"></feColorMatrix>
                                                <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend>
                                                <feBlend in="SourceGraphic" in2="effect1_dropShadow"
                                                         result="shape"></feBlend>
                                            </filter>
                                        </defs>
                                    </svg>

                                    <div class="cart-final--top-voucher">Mã Coupon</div>
                                    <div class="cart-final--top-space"></div>
                                    <span class="cart-final--top-codes">
                            <select class="form-select" style="width:208px" id="couponOptions">
                                <option value="">--Chọn--</option>
                            </select>
                        </span>
                                </div>
                                <div class="cart-final--top cart-final-grow-1">
                                    <svg fill="none" viewBox="0 -2 23 22" class="shopee-svg-icon icon-voucher-line">
                                        <g filter="url(#voucher-filter0_d)">
                                            <mask id="a" fill="#fff">
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                      d="M1 2h18v2.32a1.5 1.5 0 000 2.75v.65a1.5 1.5 0 000 2.75v.65a1.5 1.5 0 000 2.75V16H1v-2.12a1.5 1.5 0 000-2.75v-.65a1.5 1.5 0 000-2.75v-.65a1.5 1.5 0 000-2.75V2z"></path>
                                            </mask>
                                            <path d="M19 2h1V1h-1v1zM1 2V1H0v1h1zm18 2.32l.4.92.6-.26v-.66h-1zm0 2.75h1v-.65l-.6-.26-.4.91zm0 .65l.4.92.6-.26v-.66h-1zm0 2.75h1v-.65l-.6-.26-.4.91zm0 .65l.4.92.6-.26v-.66h-1zm0 2.75h1v-.65l-.6-.26-.4.91zM19 16v1h1v-1h-1zM1 16H0v1h1v-1zm0-2.12l-.4-.92-.6.26v.66h1zm0-2.75H0v.65l.6.26.4-.91zm0-.65l-.4-.92-.6.26v.66h1zm0-2.75H0v.65l.6.26.4-.91zm0-.65l-.4-.92-.6.26v.66h1zm0-2.75H0v.65l.6.26.4-.91zM19 1H1v2h18V1zm1 3.32V2h-2v2.32h2zm-.9 1.38c0-.2.12-.38.3-.46l-.8-1.83a2.5 2.5 0 00-1.5 2.29h2zm.3.46a.5.5 0 01-.3-.46h-2c0 1.03.62 1.9 1.5 2.3l.8-1.84zm.6 1.56v-.65h-2v.65h2zm-.9 1.38c0-.2.12-.38.3-.46l-.8-1.83a2.5 2.5 0 00-1.5 2.29h2zm.3.46a.5.5 0 01-.3-.46h-2c0 1.03.62 1.9 1.5 2.3l.8-1.84zm.6 1.56v-.65h-2v.65h2zm-.9 1.38c0-.2.12-.38.3-.46l-.8-1.83a2.5 2.5 0 00-1.5 2.29h2zm.3.46a.5.5 0 01-.3-.46h-2c0 1.03.62 1.9 1.5 2.3l.8-1.84zM20 16v-2.13h-2V16h2zM1 17h18v-2H1v2zm-1-3.12V16h2v-2.12H0zm1.4.91a2.5 2.5 0 001.5-2.29h-2a.5.5 0 01-.3.46l.8 1.83zm1.5-2.29a2.5 2.5 0 00-1.5-2.3l-.8 1.84c.18.08.3.26.3.46h2zM0 10.48v.65h2v-.65H0zM.9 9.1a.5.5 0 01-.3.46l.8 1.83A2.5 2.5 0 002.9 9.1h-2zm-.3-.46c.18.08.3.26.3.46h2a2.5 2.5 0 00-1.5-2.3L.6 8.65zM0 7.08v.65h2v-.65H0zM.9 5.7a.5.5 0 01-.3.46l.8 1.83A2.5 2.5 0 002.9 5.7h-2zm-.3-.46c.18.08.3.26.3.46h2a2.5 2.5 0 00-1.5-2.3L.6 5.25zM0 2v2.33h2V2H0z"
                                                  mask="url(#a)"></path>
                                        </g>
                                        <path clip-rule="evenodd"
                                              d="M6.49 14.18h.86v-1.6h-.86v1.6zM6.49 11.18h.86v-1.6h-.86v1.6zM6.49 8.18h.86v-1.6h-.86v1.6zM6.49 5.18h.86v-1.6h-.86v1.6z"></path>
                                        <defs>
                                            <filter id="voucher-filter0_d" x="0" y="1" width="20" height="16"
                                                    filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                                <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood>
                                                <feColorMatrix in="SourceAlpha"
                                                               values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix>
                                                <feOffset></feOffset>
                                                <feGaussianBlur stdDeviation=".5"></feGaussianBlur>
                                                <feColorMatrix
                                                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.09 0"></feColorMatrix>
                                                <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend>
                                                <feBlend in="SourceGraphic" in2="effect1_dropShadow"
                                                         result="shape"></feBlend>
                                            </filter>
                                        </defs>
                                    </svg>
                                    <input class="form-control" id="usePoint">
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-6  d-mb">
                            <div class="d-flex flex-row justify-content-between m-2">
                                <span>Tổng tiền hàng</span>
                                <span id="spanTongTienHang">375.000 đ</span>
                            </div>
                            <div class="d-flex flex-row justify-content-between m-2">
                                <span>Giảm giá sản phẩm</span>
                                <span id="spanGiamGia">- 00 đ</span>
                            </div>
                            <div class="d-flex flex-row justify-content-between m-2">
                                <span>Giảm giá coupon</span>
                                <span id="spanGiamGiaCoupon">- 00 đ</span>
                            </div>
                            <div class="d-flex flex-row justify-content-between m-2">
                                <span>Phí vận chuyển</span>
                                <span id="shipingfee">00 đ</span>
                            </div>
                            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center border-bottom"></div>
                            <div class="d-flex flex-row justify-content-between m-2">
                                <span style="color:#ee4d2d">TỔNG</span>
                                <span id="spanTotal" style="color:#ee4d2d">375.000 đ</span>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">
                            <strong style="color:#ee4d2d">THÔNG TIN VẬN CHUYỂN</strong>
                        </div>
                    </div>
                    <div id="info-user" style="display: none">
                        <div>
                            <div class="d-flex flex-row justify-content-start m-2">
                                <span class="lb">Người nhận:</span>
                                <span> </span>
                            </div>
                        </div>
                        <div>
                            <div class="d-flex flex-row justify-content-start m-2">
                                <span class="lb">Điện thoại:</span>
                                <span> </span>
                            </div>
                        </div>
                        <div>
                            <div class="d-flex flex-row justify-content-start m-2">
                                <span class="lb">Địa chỉ:</span>
                                <span> </span>
                            </div>
                        </div>
                    </div>
                    <div class="row g-3 mt-3" id="info-input" style="display: inline-flex">
                        <div class="col-md-4">

                            <input type="text" class="form-control" id="FullName" placeholder="Họ tên">

                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control" id="Phone" placeholder="SĐT">
                        </div>
                        <div class="col-md-12">
                        <textarea type="text" class="form-control" id="Address"
                                  placeholder="Địa chỉ nhận hàng"></textarea>
                        </div>
                        <div class="col-md-4">
                            <select class="form-select" id="provinceOptions">
                                <option value="">-- Chọn tỉnh --</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <select class="form-select" id="districtSelect">
                                <option value="">--Chọn Quận/huyện--</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <select class="form-select" id="wardSelect">
                                <option value="">--Chọn Xã/Phường--</option>
                            </select>
                        </div>

                    </div>
                    <div class="d-flex flex-row justify-content-end mt-3">
                        <button id="btnDatHang" class="shopee-button-solid shopee-button-solid--primary">
                            <span class="cart-final--bottom-checkout--btn btnDatHang">Đặt hàng</span>
                        </button>
                    </div>
        </section>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script th:src="@{/ajax/client/product-detail.js}" type="text/javascript"></script>
        <script th:src="@{/ajax/client/cart.js}" type="text/javascript"></script>
        <script th:src="@{/js/client/cart.js}" type="text/javascript"></script>
    </section>

</div>
</body>
</html>
